{% import "../../macros/macros.html" as macro %}
<div class="{{ name }} res_slider {{ module.advanced_customization.css_class_selector }}" id="{{ module.advanced_customization.css_id_selector }}">
	<div {{ macro.width(module.style.container_settings) }}>
		<div class="row {{ module.content_alignment }}"> 
			{% if module.title or module.content %}
			<div class="col-12 col-md-5">
				{% if module.title %}<h6>{{ module.title }}</h6>{% endif %}
				{{ module.content }}
				<div class="res_btn">
					{{ macro.button_type2_settings(module.button_settings) }}
				</div>
			</div>
			{% endif %}
			<div class="col-12 col-md-7">
				<div class="res_slider_inr glide" id="options-type">
					<div class="glide__track" data-glide-el="track">
						<ul class="glide__slides ">
							{% for item in module.result_slider %}
							<div class="glide__slide slider_item">  
								{% set href = item.link.url.href %}
								{% if item.link.url.type is equalto "EMAIL_ADDRESS" %} 
								{% set href = "mailto:" + href %}
								{% endif %}
								{% if href %}
								<a href="{{ href }}"
									{% if item.link.open_in_new_tab %}target="_blank"{% endif %}
									{% if item.link.rel %}rel="{{ item.link.rel }}"{% endif %}
									>{% endif %}
									<div class="res_item_inr">
										{% if item.image.src %}
										<img src="{{ item.image.src }}" alt="{{ item.image.alt }}" style="{% if module.add_image_filter %}filter: {% if module.select_image_filter == 'blur' %}blur({{ module.add_value }}px){% elif module.select_image_filter == 'brightness' %}brightness({{ module.add_value }}){% elif module.select_image_filter == 'contrast' %}contrast({{ module.add_value }}){% elif module.select_image_filter == 'grayscale' %}grayscale({{ module.add_value }}){% elif module.select_image_filter == 'invert' %}invert({{ module.add_value }}){% elif module.select_image_filter == 'opacity' %}opacity({{ module.add_value }}){% endif %};{% endif %}">
										{% endif %}
									</div> 
									{% if href %}</a>{% endif %} 
							</div>
							{% endfor %}
						</ul> 
					</div> 
					{% if module.slider_settings.arrows %}
					<div data-glide-el="controls" class="glide_arrows">
						<button data-glide-dir="<" class="prev" ><svg version="1.0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 512" aria-hidden="true"><g id="angle-left3_layer"><path d="M31.7 239l136-136c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9L127.9 256l96.4 96.4c9.4 9.4 9.4 24.6 0 33.9L201.7 409c-9.4 9.4-24.6 9.4-33.9 0l-136-136c-9.5-9.4-9.5-24.6-.1-34z"></path></g></svg></button>
						<button data-glide-dir=">" class="next" ><svg version="1.0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 512" aria-hidden="true"><g id="angle-right2_layer"><path d="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"></path></g></svg></button>
					</div> {% endif %}
					{% if module.slider_settings.dots %} 
					<div class="glide__bullets" data-glide-el="controls[nav]">
						{% for item in module.result_slider %}
						<button class="glide__bullet" data-glide-dir="={{ loop.index - 1 }}"></button>
						{% endfor %}
					</div>
					{% endif %} 
				</div> 
			</div> 
		</div>
		</div>
</div>

{{ require_css(get_asset_url('../../css/glide.css')) }}
{{ require_js(get_asset_url("../../js/glide.js")) }}
{% require_css %}
<style>
	.res_slider .glide_arrows>button,
	.res_slider .glide__bullet{
		background: {{ macro.color(module.style.slider_arrows_and_dots_background_color) }};
	}
 
	.res_slider .glide__bullet.glide__bullet--active, .tst_sliderv2 .glide__bullet:hover{
		background:{{ module.style.dots_active_background_color.css }};
	}
  
  
	.res_slider .glide_arrows>button svg{ 
		fill: {{ macro.color(module.style.arrows_icon_color) }};
	}
	{% if module.style.override_style %}
	.res_slider{
		{{ module.style.section_spacing.css }};
	}
	.res_slider h6{ 
		{{ module.style.title_font.css }};
	}
	.res_slider .res_item_inr{
		border-radius: {{ module.style.image_corner_radius }}px;
	}
	.res_slider .col-12.col-md-5{
		{{ module.style.textalignment_field.css }}
	}
	.res_slider .row{
		align-items:{{ module.style.section_vertical_alignment }}
	}

	{% endif %}
	.res_slider .res_item_inr:hover{
		box-shadow: 0 4px 8px {{ macro.color(module.style.image_hover_box_shadow) }};
	}
</style> 
{% end_require_css %}

{% require_js %}
<script>
	var glideHeroPeek = new Glide('.{{ name }} .res_slider_inr', {
		type: 'carousel', 
		animationDuration: {{ module.slider_settings.speed }}, 
		autoplay:{{ module.slider_settings.autoplay }},  
		startAt: 1,
		perView: 2, 
		peek: {
		before: 0,
		after: 0
	},
											gap: 15,
											breakpoints: {
											800: {
											perView: 3
											},
											480: {
											perView: 1
											}
											}
											});
	glideHeroPeek.mount(); 
</script>
{% end_require_js %} 