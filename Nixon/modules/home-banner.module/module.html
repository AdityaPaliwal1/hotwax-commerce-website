{% import "../../macros/macros.html" as macro %}
<div class="main-banner main-banner-{{name}} {{ module.advanced_customization.css_class_selector }}" id="{{ module.advanced_customization.css_id_selector }}">
	{% if module.banner_type=="standard" %}
	<div class="main-banner-wrpr standard-banner"> 
		<!-- Banner Background macro -->
		<div class="banner_background_settings {% if module.standard_banner_settings.banner_background_settings.apply_parallax %}jarallax{% endif %}" style="{% if module.standard_banner_settings.banner_background_settings.background_type == "image" %}background-image: url({{ module.standard_banner_settings.banner_background_settings.image.src }});background-size: {{ module.standard_banner_settings.banner_background_settings.background_size }}; background-position: {{ module.standard_banner_settings.banner_background_settings.background_position }}; {% elif module.standard_banner_settings.banner_background_settings.background_type == "gradient" %}background-image: linear-gradient({{module.standard_banner_settings.banner_background_settings.gradient.gradient_direction}},rgba({{ module.standard_banner_settings.banner_background_settings.gradient.primary_color.color|convert_rgb }}, {{ module.standard_banner_settings.banner_background_settings.gradient.primary_color.opacity * 0.01 }}),rgba({{ module.standard_banner_settings.banner_background_settings.gradient.secondary_color.color|convert_rgb }}, {{ module.standard_banner_settings.banner_background_settings.gradient.secondary_color.opacity * 0.01 }})); {% elif module.standard_banner_settings.banner_background_settings.background_type == "color" %}background-color:rgba({{ module.standard_banner_settings.banner_background_settings.color.color|convert_rgb }}, {{ module.standard_banner_settings.banner_background_settings.color.opacity * 0.01 }});{% endif %}">
			{% if module.standard_banner_settings.banner_background_settings.background_type == "video" %}
			<div class="background-video-wrpr">
				<video src="{{ module.standard_banner_settings.banner_background_settings.video_background.video }}" loop autoplay>
				</video>
			</div>
			{% endif %}
			{% if module.standard_banner_settings.banner_background_settings.overlay_settings.apply_overlay %}
			<div class="overlay" style="background-color:rgba({{ module.standard_banner_settings.banner_background_settings.overlay_settings.color_field.color|convert_rgb }},{{ module.standard_banner_settings.banner_background_settings.overlay_settings.color_field.opacity/100 }});"></div>
			{% endif %}
		</div>
		<!-- End Background macro -->

		<div class="breadcrumb-wrapper {{ module.breadcrumb_section.breadcrumb_settings.breadcrumb_alignment }}">
			<div {{ macro.width(module.style) }} >
				<!-- Breadcrumb Macro -->
				{{ macro.breadcrumb_settings(module.breadcrumb_section) }}
				<!-- End Breadcrumb Macro -->
			</div>
		</div> 

		<div class="banner-wrapper-inr">

			<div {{ macro.width(module.style) }} >

				<div class="row" >
					<div class="content-area col-12" {% if module.animation_settings.animation %}data-aos="{{ module.animation_settings.select_animation }}" data-aos-delay="200"{% endif %}>
						{% if module.standard_banner_settings.title %}
						<div class="title-wrpr">
							<{{ module.standard_banner_settings.title_tag_type }}>
							{{ module.standard_banner_settings.title }}
							</{{ module.standard_banner_settings.title_tag_type }}>
						</div>
							{% endif %}
							<div class="description">
								{{ module.standard_banner_settings.description }}
							</div>
							<!-- Buttons macro -->
							{% if module.standard_banner_settings.button_settings.add_button %}
							<div class="button_wrap">
								{% for btn_item in module.standard_banner_settings.button_settings.button %}
								<div class="button_item {{ btn_item.button_style }}">
									{% if btn_item.button_type == "normal" %}     
									{% set href = btn_item.button_link.url.href %}
									{% if btn_item.button_link.url.type is equalto "EMAIL_ADDRESS" %}
									{% set href = "mailto:" + href %}
									{% endif %}
									<a href="{{ href }}" {% if btn_item.button_link.open_in_new_tab %}target="_blank"{% endif %}>
										<span class="btn_text">{{ btn_item.button_text }}</span>
									</a>
									{% elif btn_item.button_type == "cta" %}
									{% cta guid="{{ btn_item.cta }}" %}
									{% endif %}
								</div>
								{% endfor %}
							</div>
							{% endif %}
							<!-- End Buttons macro -->

							</div>
						</div>

					</div>
				</div>
			</div>
			{% elif module.banner_type=="slider" %}
			<div class="hm_slider {% if not module.style.background_on_container %}without_img{% endif %}">

				<div class="breadcrumb-wrapper {{ module.breadcrumb_section.breadcrumb_settings.breadcrumb_alignment }}">
					<div {{ macro.width(module.style) }} >
						<!-- Breadcrumb Macro -->
						{{ macro.breadcrumb_settings(module.breadcrumb_section) }}
						<!-- End Breadcrumb Macro -->
					</div>
				</div>
				<div class="splide" id="my-splide">
					<div class="splide__track">
						<div class="splide__list">
							{% for item in module.slider_banner_settings %}
							<div class="splide__slide bg-blue items"  >

								<div  class="slide_bg" style="{% if item.banner_background_settings.image.src  %}background-image:url({{ item.banner_background_settings.image.src }}); background-size: {{ item.banner_background_settings.background_size }}; background-position: {{ item.banner_background_settings.background_position }}; {% endif %} {% if item.banner_background_settings.background_type == "gradient" %}background-image: linear-gradient({{item.banner_background_settings.gradient.gradient_direction}},rgba({{ item.banner_background_settings.gradient.primary_color.color|convert_rgb }}, {{ item.banner_background_settings.gradient.primary_color.opacity * 0.01 }}),rgba({{ item.banner_background_settings.gradient.secondary_color.color|convert_rgb }}, {{ item.banner_background_settings.gradient.secondary_color.opacity * 0.01 }}));{% endif %}">
									{% if item.banner_background_settings.overlay_settings.apply_overlay %}
									<div class="overlay" style="background-color:rgba({{ item.banner_background_settings.overlay_settings.color_field.color|convert_rgb }},{{ item.banner_background_settings.overlay_settings.color_field.opacity/100 }});"></div>
									{% endif %}
								</div> 
								<div class="hm_bnr_inr" style="{% if item.banner_background_settings.image.src  %}background-image:url({{ item.banner_background_settings.image.src }}); background-size: {{ item.banner_background_settings.background_size }}; background-position: {{ item.banner_background_settings.background_position }}; {% endif %} {% if item.banner_background_settings.background_type == "gradient" %}background-image: linear-gradient({{item.banner_background_settings.gradient.gradient_direction}},rgba({{ item.banner_background_settings.gradient.primary_color.color|convert_rgb }}, {{ item.banner_background_settings.gradient.primary_color.opacity * 0.01 }}),rgba({{ item.banner_background_settings.gradient.secondary_color.color|convert_rgb }}, {{ item.banner_background_settings.gradient.secondary_color.opacity * 0.01 }}));{% endif %}" >
									<div class="banner-wrapper-inr">

										<div {{ macro.width(module.style) }} >

											<div class="row"  >
												<div class="content-area col-12">
													{% if item.title %}
													<div class="title-wrpr">
														<{{ item.title_tag_type }}>
														{{ item.title }}
														</{{ item.title_tag_type }}>
													</div>
														{% endif %}
														<div class="description">
															{{ item.description }}
														</div>
														<!-- Buttons macro -->
														{% if item.button_settings.add_button %}
														<div class="button_wrap">
															{% for btn_item in item.button_settings.button %}
															<div class="button_item {{ btn_item.button_style }}">
																{% if btn_item.button_type == "normal" %}     
																{% set href = btn_item.button_link.url.href %}
																{% if btn_item.button_link.url.type is equalto "EMAIL_ADDRESS" %}
																{% set href = "mailto:" + href %}
																{% endif %}
																<a href="{{ href }}" {% if btn_item.button_link.open_in_new_tab %}target="_blank"{% endif %}>
																	<span class="btn_text">{{ btn_item.button_text }}</span>
																	
																</a>
																{% elif btn_item.button_type == "cta" %}
																{% cta guid="{{ btn_item.cta }}" %}
																{% endif %}
															</div>
															{% endfor %}
														</div>
														{% endif %}
														<!-- End Buttons macro -->
														</div>
													</div>

												</div>

											</div>
										</div>
									</div> 
									{% endfor %}
								</div>
							</div>
						</div>

					</div>
					{% endif %}
				</div>
				{% require_css %}
				<style>
					.main-banner-{{name}} .splide__pagination__page,
					.main-banner-{{name}} .splide__arrow{
						background: {{ macro.color(module.style.slider_styling.arrow_and_dots_background_color) }};
					}
					.main-banner-{{name}} .splide__pagination__page.is-active,
					.main-banner-{{name}} .splide__pagination__page:hover{
						background: {{ macro.color(module.style.slider_styling.dots_active_background_color) }};
					}
					.main-banner-{{name}} .splide__arrow svg{
						fill: {{ macro.color(module.style.slider_styling.arrow_color) }};
					}
					.main-banner .hm_bnr_inr{
						width:{{ module.style.inner_container_width }}%;
					}
					{% if module.style.override_section_style %}

					.main-banner-{{name}} {
						margin-top: {{ module.style.section_style.spacing_field.margin.top.value }}{{ module.style.section_style.spacing_field.margin.top.units }};
						margin-bottom: {{ module.style.section_style.spacing_field.margin.bottom.value }}{{ module.style.section_style.spacing_field.margin.bottom.units }};
					}

					.main-banner-{{name}} .main-banner-wrpr .banner-wrapper-inr,
					.main-banner .items{
						padding-top: {{ module.style.section_style.spacing_field.padding.top.value }}{{ module.style.section_style.spacing_field.padding.top.units }};
						padding-bottom: {{ module.style.section_style.spacing_field.padding.bottom.value }}{{ module.style.section_style.spacing_field.padding.bottom.units }};
						padding-left: {{ module.style.section_style.spacing_field.padding.left.value }}{{ module.style.section_style.spacing_field.padding.left.units }};
						padding-right: {{ module.style.section_style.spacing_field.padding.right.value }}{{ module.style.section_style.spacing_field.padding.right.units }};
					}
					.main-banner .hm_bnr_inr{
						{{ module.style.section_style.inner_spacing.css }}
					}

					{% endif %}

					{% if module.style.override_style %}

					.main-banner-{{name}} .content-area {
						{{ module.style.content_styling.spacing_field.css }}
					}
					.main-banner-{{name}} .content-area .title-wrpr *{
						{{ module.style.content_styling.title_font.css }};
					}
					.main-banner-{{name}} .content-area .description *{
						{{ module.style.content_styling.description_styling.css }}
					}

					.main-banner-{{name}} .content-area .title-wrpr,
					.main-banner-{{name}} .content-area .description,
					.main-banner-{{name}} .content-area .button_wrap{
						{{ module.style.content_styling.alignment.css }}
					}
					.main-banner-{{name}} .splide__slide{
						min-height:{{ module.style.content_styling.min_height }}px;

					}

					{% endif %}
				</style>
				{% end_require_css %}

				{{ require_css(get_asset_url('../../css/splide.css')) }}
				{{ require_js(get_asset_url("../../js/splide.js")) }}
				{% require_js %}
				<script>
					console.log('loaded');
					var options = {
						arrows: {{ module.slider_settings.arrows }},
						autoHeight: false,
						autoWidth: false,
						{% if module.slider_settings.autoplay %}
						autoplay:{{ module.slider_settings.autoplay_speed }},
						{% endif %}
						drag: true,
						pagination: {{ module.slider_settings.dots }}, 
						rewind: true,
						type: '{% if module.slider_settings.fade %}fade{% else %}loop{% endif %}', 
					};

					var splide = new Splide(".splide", options).mount();

					console.log(splide);

				</script>
				{% end_require_js %}



				{% require_css %}
				<style>
					@media(max-width: {{ theme.media_responsive_breakpoints.mobile_breakpoint }}px){
						.main-banner .image-area {
							text-align: center;
						}
						.main-banner .hm_bnr_inr {
							padding: 20px;
						}
						.main-banner .hm_bnr_inr { 
							width: 90%;
							margin: 60px auto; 
						}
						.main-banner .content-area.col-12 {
							padding: 0;
						}

					}

					{% if module.slider_animation_settings.animation %}
					.main-banner-{{name}}.main-banner .items .content-area > * {
						transform: translate(-100px);
						transition: all 1s ease;
						opacity: 0;
					}
					.main-banner-{{name}}.main-banner .items.is-active .content-area > *{
						transform: translate(0);
						opacity: 1;
					}
					{% endif %}
				</style>
				{% end_require_css %}

<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&display=swap" rel="stylesheet">
